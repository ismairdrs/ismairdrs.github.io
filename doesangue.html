<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700,900&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doe sangue! Doe Vida!</title>
</head>
<body>  
    <header>
        <img class="logo" src="https://i.imgur.com/wgO66dn.png" alt="Imagem de DOE">
        <h2>A sua doação importa</h2>
        <p>Até 3 vidas com 1 doação</p>
        <p>Mais de 38.000 doações são necessárias todos os dias</p>
        <p>Apenas 1,9% da população brasileira, doa sangue.</p>
        <button>Quero Ajudar!</button>
    </header>
    <section class="form hide">
        <h2>Entre na lista de doadores</h2>
        <form action="" method="POST">
            <input type="text" name="nome" id="nome" placeholder="Nome Completo">
            <input type="text" name="email" id="email" placeholder="Email">
            <input type="text" name="blood" id="tipo_sanguineo" placeholder="Tipo Sanguíneo">
            <button>Quero ajudar!</button>
        </form>
    </section>

    <main>
        <h2>Últimos <span>doadores</span></h2>
        <section class="donors">
                <div class="donor">
                    <div class="blood">O+</div>
                    <p>Ismair Junior</p>
                </div>
                <div class="donor">
                    <div class="blood">AB+</div>
                    <p>Fernanda Daibert</p>
                </div>
                <div class="donor">
                    <div class="blood">A-</div>
                    <p>Mayk Brito</p>
                </div>
        </section>
    </main>
    <footer> Com ❤️ Ismair</footer>

    <script>
        //variáveis globais
        var campo_nome = document.querySelector("input[name='nome'")
        var campo_tipo_sanguineo = document.querySelector("input[name='blood'")
        var corpo_doadores = document.querySelector("main section")
        //objetos
        function Doador(nome, blood)
        {
            this.nome = nome
            this.blood = blood

            this.criar_div_doador = function(){
                //criar elementos
                var div_donor = document.createElement("div")
                var div_blood = document.createElement("div")
                var tag_p = document.createElement("p")

                //aplicar estilo
                div_donor.className = "donor"
                div_blood.className = "blood"

                //criar nós
                var texto_nome = document.createTextNode(this.nome)
                var texto_tipo_sanguineo = document.createTextNode(this.blood)

                //vincular os nós aos elementos
                div_blood.appendChild(texto_tipo_sanguineo)
                tag_p.appendChild(texto_nome)
                div_donor.appendChild(div_blood)
                div_donor.appendChild(tag_p)

                //vincular os elmenetos ao documento
                corpo_doadores.appendChild(div_donor)

            }
        }

        //funções
        function adicionar_dados(event)
        {
            function limpar(){
                document.getElementById('nome').value=''
                document.getElementById('tipo_sanguineo').value=''
                document.getElementById('email').value=''
            }

            event.preventDefault();
            var nome = campo_nome.value
            var sangue = campo_tipo_sanguineo.value

            if(nome == "" || sangue == "")
            {
                alert("Dados inválidos!")
            }else{
                novo_doador = new Doador(nome, sangue)
                novo_doador.criar_div_doador()
                limpar()
            }
        }
        
        
        //eventos nos botões
        document.querySelector('header button').addEventListener("click",function(){
                document.querySelector('.form').classList.toggle('hide')
        })

        document.querySelector('form button').addEventListener("click", adicionar_dados)
    </script>
</body>

</html>
